bundle:
  name: dbx_poc

variables:
  brand_name: {}
  collection_url: {}

targets:
  dev:
    default: true
    workspace:
      root_path: /Workspace/Repos/ankit.af.yadav@accenture.com/mars-odai-test
    variables:
      brand_name: "scinkers"
      collection_url: "5e230de5cee846f18c90b39c00e94f56"

resources:
  jobs:
    poc_ingest_job:
      name: aprimotodbx

      job_clusters:
        - job_cluster_key: poc_cluster
          new_cluster:
            serverless: true
            spark_version: "14.3.x-scala2.12"   # âœ” REQUIRED

      tasks:
        - task_key: run_main_notebook
          notebook_task:
            notebook_path: notebooks/Aprimo_to_dbx- Dev_Final.ipynb
            base_parameters:
              brand_name: ${var.brand_name}
              collection_url: ${var.collection_url}
          job_cluster_key: poc_cluster
          timeout_seconds: 7200

      tags:
        env: dev
        project: aprimo
